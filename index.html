<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HARSH'S SHOP | Premium E-commerce Store</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #ff6600; /* Orange for E-commerce */
            --secondary-color: #333333; /* Dark gray for text */
            --text-dark: #222222; /* Near black for main text */
            --bg-light: #fffaf5; /* Light orange background */
            --accent-color: #ff9900; /* Lighter orange for special offers */
            --orange-light: #ffd9b3; /* Light orange for borders */
            --orange-dark: #cc5500; /* Dark orange for hover */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light); 
            padding-top: 106px;
        }

        /* Custom Navbar Styling */
        .navbar {
            background-color: #ffffff; 
            box-shadow: 0 1px 10px rgba(0,0,0,0.05);
        }
        .navbar-brand {
            color: var(--secondary-color) !important;
            font-weight: 800; 
            font-size: 1.8rem;
        }
        .nav-link {
            color: var(--text-dark) !important;
        }
        .nav-link.active {
            border-bottom: 2px solid var(--primary-color);
        }

        /* Search Bar Styling */
        .search-container {
            flex-grow: 1;
            max-width: 600px;
        }
        .account-button {
            background-color: var(--primary-color);
            border-radius: 20px;
            color: white; 
            border-color: var(--primary-color);
            font-weight: 700;
            padding: 8px 30px;
            transition: all 0.2s;
        }
        .account-button:hover {
            background-color: var(--orange-dark);
            border-color: var(--orange-dark);
            color: white;
        }

        /* New Styling for the Taller Navbar */
        .navbar-top-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-bottom: 0.5rem;
            width: 100%;
        }

        /* Hero Carousel Styling */
        #heroCarousel {
            box-shadow: 0 10px 25px rgba(0,0,0,0.15); 
            border-radius: 12px;
            overflow: hidden;
        }
        .carousel-item img {
            height: 450px; 
            object-fit: cover;
        }
        .carousel-item .carousel-caption {
            background-color: rgba(51, 51, 51, 0.7);
            padding: 20px;
            border-radius: 8px;
        }
        @media (min-width: 768px) {
            .carousel-item img {
                height: 550px;
            }
        }

        /* Product Card Styling */
        .product-card {
            border: 1px solid var(--orange-light);
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08); 
            position: relative; 
            overflow: hidden;
            background-color: white;
            height: 100%;
        }
        .product-card:hover {
            transform: translateY(-5px); 
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        .product-card img {
            border-radius: 12px 12px 0 0;
            height: 250px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .product-card:hover img {
            transform: scale(1.05); 
        }
        .product-price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        .product-old-price {
            font-size: 1.2rem;
            color: #999;
            text-decoration: line-through;
        }

        /* Button Styling */
        .btn-buy {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
            font-weight: 700;
            transition: all 0.2s;
            border-radius: 8px;
            padding: 8px 15px;
        }
        .btn-buy:hover {
            background-color: var(--orange-dark);
            border-color: var(--orange-dark);
            color: white;
        }
        .btn-outline-secondary {
            border-color: var(--primary-color) !important;
            color: var(--secondary-color) !important;
        }
        .btn-outline-secondary:hover {
            background-color: var(--primary-color) !important;
            color: white !important;
        }

        /* Footer Styling */
        footer {
            background-color: var(--secondary-color);
            color: #ffd9b3; 
        }
        footer a {
            color: var(--primary-color) !important;
            text-decoration: none;
        }
        footer a:hover {
            color: #ffffff !important;
        }

        /* Utility classes - Refined Section Title */
        .section-title {
            font-weight: 800;
            color: var(--secondary-color);
            margin-bottom: 2.5rem;
            border-bottom: 4px solid var(--primary-color);
            display: inline-block;
            padding-bottom: 8px;
            font-size: 2.5rem; 
        }

        /* Why Choose Us Icons */
        .feature-icon-box {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            height: 100%;
        }
        .feature-icon-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        .feature-icon-box i {
            color: var(--primary-color); 
        }

        /* Category Cards */
        .category-card {
            border: none;
            border-radius: 12px;
            background-color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            padding: 15px;
        }
        .category-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        .category-icon-bg {
            width: 90px;
            height: 90px;
            background-color: var(--bg-light); 
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 10px;
            border: 3px solid var(--primary-color); 
        }
        .category-icon-bg i {
            font-size: 3rem;
            color: var(--secondary-color);
        }
        
        /* Cart Modal Styling */
        .cart-item {
            border-bottom: 1px solid var(--orange-light);
            padding: 10px 0;
        }

        /* Review Card Styles */
        .review-card {
            background-color: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 5px solid var(--primary-color);
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .review-card:hover {
             transform: translateY(-3px);
             box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .review-rating i {
            color: #ff9900;
            margin-right: 2px;
        }
        .review-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary-color);
            background-color: var(--bg-light);
        }
        .review-author-meta {
            font-size: 0.9rem;
            color: var(--secondary-color);
            font-weight: 600;
        }
        .review-date {
            font-size: 0.75rem;
            color: #6c757d;
            display: block;
        }
        .review-product-tag {
            font-size: 0.8rem;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 5px;
            background-color: #fff0e6;
            color: var(--secondary-color);
        }

        /* Story Timeline Styles */
        .story-milestone-icon {
            width: 20px;
            height: 20px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
        }
        .story-milestone {
            margin-bottom: 20px;
        }
        .story-title {
            display: inline-block;
            margin-bottom: 5px;
        }

        /* NEW: Sticky mobile search bar adjustments */
        @media (max-width: 991.98px) {
             body {
                padding-top: 106px;
            }
             .mobile-search-bar {
                display: block !important;
             }
        }
        
        /* Footer Social Icons */
        .footer .list-unstyled.d-flex i { 
            font-size: 2.2rem !important; 
            transition: transform 0.2s;
            color: #ffd9b3 !important;
        }
        .footer .list-unstyled.d-flex li:hover i {
            transform: scale(1.1);
            color: var(--primary-color) !important;
        }
        .footer .bi-instagram-fill { color: #E1306C !important; }
        .footer .bi-facebook-fill { color: #3b5998 !important; }
        .footer .bi-youtube { color: #FF0000 !important; }
        .footer .bi-google { color: #4285F4 !important; }
        .footer .bi-github { color: #181717 !important; }
        
        /* Special Offer Badge */
        .offer-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: var(--accent-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            z-index: 1;
        }
        
        /* Shipping Info Box */
        .shipping-info {
            background-color: #fff0e6;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
        }
        
        /* Flash Sale Timer */
        .flash-sale-timer {
            background: linear-gradient(135deg, #ff6600, #ff9900);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            display: inline-block;
            font-weight: bold;
        }

        /* Orange theme highlights */
        .bg-primary {
            background-color: var(--primary-color) !important;
        }
        
        .text-primary {
            color: var(--primary-color) !important;
        }
        
        .border-primary {
            border-color: var(--primary-color) !important;
        }

    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container-fluid flex-column">
            
            <div class="navbar-top-row d-flex">
                
                <a class="navbar-brand me-0" href="#">
                    <img src="https://placehold.co/100x40/ff6600/333333?text=HARSH'S+SHOP" alt="HARSH'S SHOP Logo" height="40">
                    <span class="d-none d-md-inline ms-2">HARSH'S SHOP</span>
                </a>

                <div class="d-none d-lg-flex search-container mx-auto">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search products (e.g., Headphones, Laptop)" id="searchInput" aria-label="Search" onkeypress="if(event.key === 'Enter') searchProducts()">
                        <button class="btn btn-primary" style="background-color: var(--primary-color); border-color: var(--primary-color); color: white;" type="button" onclick="searchProducts()">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                
                <div class="d-flex align-items-center">
                    <button class="btn btn-sm account-button me-3 d-none d-lg-block" type="button" data-bs-toggle="modal" data-bs-target="#accountModal">
                        <i class="bi bi-person-circle me-1"></i> Account
                    </button>

                    <button class="btn btn-outline-secondary position-relative me-3" data-bs-toggle="modal" data-bs-target="#cartModal" title="View Shopping Cart">
                        <i class="bi bi-cart-fill fs-5" style="color: var(--secondary-color);"></i>
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="cartCount">
                            0
                            <span class="visually-hidden">items in cart</span>
                        </span>
                    </button>

                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </div>

            <div class="collapse navbar-collapse w-100 justify-content-center" id="navbarNav">
                <ul class="navbar-nav mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active fw-bold" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#productSection">Featured Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#categorySection">Shop Categories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#dailyDealsSection">Flash Sale</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#story-timeline-section">Our Story</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contactSection">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#faqSection">FAQ</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <section class="container-fluid d-lg-none py-2 bg-white fixed-top mobile-search-bar" style="box-shadow: 0 1px 5px rgba(0,0,0,0.05); top: 56px;">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Search Products" id="mobileSearchInput" aria-label="Search" onkeypress="if(event.key === 'Enter') searchProductsFromMobile()">
            <button class="btn btn-primary" style="background-color: var(--primary-color); border-color: var(--primary-color); color: white;" type="button" onclick="searchProductsFromMobile()">
                <i class="bi bi-search"></i>
            </button>
            <button class="btn btn-primary ms-2" type="button" data-bs-toggle="modal" data-bs-target="#accountModal" style="background-color: var(--secondary-color); border-color: var(--secondary-color);">
                <i class="bi bi-person-circle me-1"></i> Account
            </button>
        </div>
    </section>

    <main>
        <section class="container mb-5" style="margin-top: 20px;">
            <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="https://placehold.co/1200x550/ff6600/333333?text=Welcome+to+HARSH'S+SHOP+Premium+Products" class="d-block w-100" alt="E-commerce Store">
                        <div class="carousel-caption d-none d-md-block">
                            <h3 class="fw-bold">Premium Products, Unbeatable Prices</h3>
                            <p>Discover the latest tech, fashion, home essentials and more.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://placehold.co/1200x550/333333/ff6600?text=Flash+Sale+Up+to+60%25+OFF" class="d-block w-100" alt="Flash Sale">
                        <div class="carousel-caption d-none d-md-block">
                            <h3 class="fw-bold">Flash Sale: Up to 60% OFF</h3>
                            <p>Limited time offers on best-selling products. Shop now before they're gone!</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://placehold.co/1200x550/ff6600/333333?text=Free+Shipping+on+Orders+Over+₹999" class="d-block w-100" alt="Free Shipping">
                        <div class="carousel-caption d-none d-md-block">
                            <h3 class="fw-bold">Free Shipping Nationwide</h3>
                            <p>Enjoy free shipping on all orders over ₹999. Easy returns & 24/7 support.</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>

        <section class="container mb-5" id="productSection">
            <div class="text-center">
                <h2 class="section-title">Featured Products</h2>
                <div id="filterStatus" class="mb-3 d-none">
                    <span class="badge bg-warning text-dark me-2" id="currentFilterText"></span>
                    <button class="btn btn-sm btn-outline-secondary" onclick="resetFilter()"><i class="bi bi-x-circle me-1"></i> View All Products</button>
                </div>
            </div>
            
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4" id="productRow1">
                </div>

            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mt-4" id="productRow2">
                </div>
            
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mt-4" id="productRow3">
                </div>
        </section>

        <section class="bg-white py-5 mb-5 shadow-sm">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-title">Why Shop at HARSH'S SHOP?</h2>
                </div>
                <div class="row text-center">
                    <div class="col-md-4 mb-4">
                        <div class="feature-icon-box">
                            <i class="bi bi-truck fs-1 mb-3"></i>
                            <h5 class="fw-bold">Free & Fast Shipping</h5>
                            <p class="text-muted">Free delivery on orders over ₹999. Express shipping available.</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="feature-icon-box">
                            <i class="bi bi-shield-check fs-1 mb-3"></i>
                            <h5 class="fw-bold">Secure Payments</h5>
                            <p class="text-muted">100% secure payment processing with buyer protection.</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="feature-icon-box">
                            <i class="bi bi-arrow-counterclockwise fs-1 mb-3"></i>
                            <h5 class="fw-bold">Easy Returns</h5>
                            <p class="text-muted">30-day return policy with no questions asked.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="container mb-5">
            <div class="text-center">
                <h2 class="section-title">Customer Reviews</h2>
            </div>
            <div class="row g-4">
                
                <div class="col-md-4">
                    <div class="review-card">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://placehold.co/50x50/ff6600/333333?text=A" class="review-avatar me-3" alt="Reviewer Avatar">
                            <div>
                                <span class="review-author-meta">Amit R.</span> <span class="text-muted small">from Delhi</span>
                                <div class="review-rating mb-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                                </div>
                                <span class="review-date">Reviewed 3 days ago</span>
                            </div>
                        </div>
                        <p class="mb-2 fst-italic">"The wireless headphones I bought are exceptional! Great sound quality and battery life. Delivery was super fast."</p>
                        <span class="review-product-tag">Purchased: Wireless Headphones</span>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="review-card">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://placehold.co/50x50/333333/ff6600?text=P" class="review-avatar me-3" alt="Reviewer Avatar">
                            <div>
                                <span class="review-author-meta">Priya S.</span> <span class="text-muted small">from Mumbai</span>
                                <div class="review-rating mb-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                                </div>
                                <span class="review-date">Reviewed 1 week ago</span>
                            </div>
                        </div>
                        <p class="mb-2 fst-italic">"I love the smartwatch I ordered! The fitness tracking features are accurate and the design is sleek. Will shop again!"</p>
                        <span class="review-product-tag">Purchased: Smart Fitness Watch</span>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="review-card">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://placehold.co/50x50/ff6600/333333?text=R" class="review-avatar me-3" alt="Reviewer Avatar">
                            <div>
                                <span class="review-author-meta">Rohan K.</span> <span class="text-muted small">from Bangalore</span>
                                <div class="review-rating mb-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-half"></i>
                                </div>
                                <span class="review-date">Reviewed 2 weeks ago</span>
                            </div>
                        </div>
                        <p class="mb-2 fst-italic">"Great shopping experience. The laptop bag I bought is durable and stylish. Customer service was helpful when I had questions."</p>
                        <span class="review-product-tag">Purchased: Premium Laptop Bag</span>
                    </div>
                </div>

            </div>
        </section>
        
        <section class="container mb-5" id="story-timeline-section">
            <div class="text-center">
                <h2 class="section-title">Our Story: From Garage to E-commerce Giant</h2>
            </div>
            <div class="row align-items-center bg-white p-4 rounded-3 shadow-sm">
                <div class="col-md-5 mb-4 mb-md-0">
                    <img src="https://placehold.co/800x450/ff6600/333333?text=HARSH'S+SHOP+Warehouse" class="img-fluid rounded-3 shadow-lg" alt="Our E-commerce Journey">
                </div>
                <div class="col-md-7">
                    <p class="lead text-muted mb-4">HARSH'S SHOP started with a simple idea: make premium products accessible to everyone. Here are the key milestones that define our journey:</p>

                    <div class="story-milestone">
                        <div class="story-milestone-icon"></div>
                        <h5 class="story-title">2015: Garage Startup</h5>
                        <p class="text-muted small mb-1">We began selling electronics from a small garage in Agra, focusing on quality and customer service.</p>
                    </div>

                    <div class="story-milestone">
                        <div class="story-milestone-icon"></div>
                        <h5 class="story-title">2018: Online Expansion</h5>
                        <p class="text-muted small mb-1">Launched our e-commerce platform and expanded product range to include fashion and home goods.</p>
                    </div>

                    <div class="story-milestone">
                        <div class="story-milestone-icon"></div>
                        <h5 class="story-title">2022: Nationwide Reach</h5>
                        <p class="text-muted small mb-1">Opened 3 fulfillment centers across India and achieved 1 million satisfied customers.</p>
                    </div>
                    
                    <a href="#story-timeline-section" class="btn btn-outline-secondary mt-3">Read Full Story</a>
                </div>
            </div>
        </section>
        
        <section class="container mb-5" id="contactSection">
            <div class="text-center">
                <h2 class="section-title">Contact</h2>
            </div>
            <div class="row align-items-center bg-white p-4 rounded-3 shadow-sm">
                <div class="col-md-7 mb-4 mb-md-0">
                    <form onsubmit="event.preventDefault(); showContactConfirmation();">
                        <h4 class="mb-3 text-primary">Customer Support Inquiry</h4>
                        <div class="mb-3">
                            <label for="contactName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="contactName" required>
                        </div>
                        <div class="mb-3">
                            <label for="contactEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="contactEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="contactOrderId" class="form-label">Order ID (Optional)</label>
                            <input type="text" class="form-control" id="contactOrderId" placeholder="e.g., HS123456">
                        </div>
                        <div class="mb-3">
                            <label for="contactMessage" class="form-label">How can we help you?</label>
                            <textarea class="form-control" id="contactMessage" rows="3" placeholder="Describe your issue or question..." required></textarea>
                        </div>
                        <button type="submit" class="btn btn-buy btn-md">Submit Inquiry</button>
                    </form>
                </div>
                <div class="col-md-5">
                    <img src="https://placehold.co/800x450/333333/ff6600?text=Customer+Support+Team" class="img-fluid rounded-3 shadow-lg" alt="Customer support image">
                </div>
            </div>
        </section>

        <section class="bg-primary py-5 mb-5 shadow-lg" style="background-color: var(--primary-color) !important;">
            <div class="container text-center">
                <h3 class="display-5 fw-bold mb-3 text-white">Join Our VIP Shopper Club!</h3>
                <p class="lead mb-4 text-white">Sign up today for <b>15% off your first order</b> and exclusive early access to sales and new products.</p>
                <button class="btn btn-light btn-lg shadow-lg" data-bs-toggle="modal" data-bs-target="#signUpModal" style="background-color: white; border-color: white; color: var(--primary-color);">
                    Sign Up Now <i class="bi bi-arrow-right-circle-fill ms-2"></i>
                </button>
            </div>
        </section>

        <section class="container mb-5" id="categorySection">
            <div class="text-center">
                <h2 class="section-title">Shop By Category</h2>
            </div>
            <div class="row g-4 text-center">
                
                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-laptop"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Electronics</h5>
                        <a href="#" onclick="filterProductsByCategory('electronics')" class="stretched-link text-decoration-none text-muted small">Phones, Laptops & More</a>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-person-walking"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Fashion</h5>
                        <a href="#" onclick="filterProductsByCategory('fashion')" class="stretched-link text-decoration-none text-muted small">Clothing & Accessories</a>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-house-door"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Home & Kitchen</h5>
                        <a href="#" onclick="filterProductsByCategory('home')" class="stretched-link text-decoration-none text-muted small">Appliances & Decor</a>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-controller"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Gaming</h5>
                        <a href="#" onclick="filterProductsByCategory('gaming')" class="stretched-link text-decoration-none text-muted small">Consoles & Accessories</a>
                    </div>
                </div>

            </div>
        </section>
        
        <section class="bg-light py-5 mb-5 border-top border-bottom" id="dailyDealsSection" style="background-color: #fffaf5 !important;">
            <div class="container text-center">
                <h2 class="section-title">Flash Sale - Limited Time Offer!</h2>
                <p class="lead text-muted">Huge discounts on best-selling products. Offer ends soon!</p>
                
                <div class="flash-sale-timer mb-4">
                    <i class="bi bi-lightning-charge-fill me-2"></i> Sale Ends In: 
                    <span class="d-inline-block ms-2" id="countdownTimer">00h:00m:00s</span>
                </div>

                <div class="card p-3 shadow-lg mx-auto" style="max-width: 700px;">
                    <div class="row g-0">
                        <div class="col-md-4 position-relative">
                            <span class="offer-badge">40% OFF</span>
                            <img src="https://placehold.co/400x400/333333/ff6600?text=Wireless+Headphones" class="img-fluid rounded-start h-100 object-fit-cover" alt="Flash Sale Product">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body text-start">
                                <span class="badge bg-danger mb-2 fs-6">FLASH SALE</span>
                                <h5 class="card-title fw-bold fs-3">Premium Wireless Headphones</h5>
                                <p class="card-text text-muted">Noise-cancelling over-ear headphones with 30-hour battery life and premium sound quality.</p>
                                <div class="d-flex align-items-center mb-3">
                                    <h4 class="text-primary fw-bolder me-3">₹4,499</h4>
                                    <s class="text-danger">₹7,499</s>
                                </div>
                                <div class="shipping-info">
                                    <i class="bi bi-truck me-1"></i> <strong>Free Shipping</strong> | <i class="bi bi-arrow-counterclockwise ms-2 me-1"></i> <strong>30-Day Returns</strong>
                                </div>
                                <button class="btn btn-buy btn-lg w-100 mt-3" onclick="addToCart(1)">
                                    Add to Cart <i class="bi bi-cart-plus ms-2"></i>
                                </button>
                                <p class="card-text"><small class="text-success fw-bold mt-2 d-block"><i class="bi bi-check-circle-fill me-1"></i> 4.8/5 Rating from 1,247 Customers!</small></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="container mb-5">
            <div class="text-center">
                <h2 class="section-title">Our Location: Agra, Uttar Pradesh</h2>
                <p class="lead text-muted">Visit our flagship store in the historic city of Agra</p>
            </div>
            <div class="row justify-content-center">
                <div class="col-12 col-lg-8">
                    <div class="ratio ratio-16x9 rounded-3 shadow-lg">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d113645.71764627441!2d77.93046252999335!3d27.1751447036495!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39747c385900508f%3A0xc6a882d9217b1836!2sAgra%2C%20Uttar%20Pradesh!5e0!3m2!1sen!2sin!4v1687000000000!5m2!1sen!2sin" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            title="Map of Agra, Uttar Pradesh">
                        </iframe>
                    </div>
                    <div class="mt-3 text-center">
                        <p><i class="bi bi-geo-alt-fill text-primary me-2"></i> <strong>Address:</strong> HARSH'S SHOP, Civil Lines, Agra, Uttar Pradesh 282001</p>
                        <p><i class="bi bi-telephone-fill text-primary me-2"></i> <strong>Phone:</strong> +91 98765 43210</p>
                        <p><i class="bi bi-clock-fill text-primary me-2"></i> <strong>Store Hours:</strong> Mon-Sat: 10 AM - 9 PM, Sun: 11 AM - 7 PM</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="container mb-5" id="faqSection">
            <div class="text-center">
                <h2 class="section-title">Frequently Asked Questions</h2>
            </div>
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            What is your shipping policy?
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            We offer free standard shipping on all orders over ₹999. Express shipping is available at an additional charge. Most orders are processed within 1-2 business days and delivered within 3-7 business days.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            What is your return policy?
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            We have a 30-day return policy. You can return any item in its original condition with all tags and packaging for a full refund. Return shipping is free for defective or incorrect items.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            How can I track my order?
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Once your order is shipped, you will receive a tracking number via email. You can also track your order by logging into your account or using the <a href="#" data-bs-toggle="modal" data-bs-target="#trackOrderModal">Track Order</a> feature on our website.
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="py-5 footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5>HARSH'S SHOP</h5>
                    <ul class="nav flex-column">
                        <li class="nav-item mb-2"><a href="#" class="nav-link p-0">Home</a></li>
                        <li class="nav-item mb-2"><a href="#story-timeline-section" class="nav-link p-0">Our Story</a></li>
                        <li class="nav-item mb-2"><a href="#faqSection" class="nav-link p-0">FAQs</a></li>
                    </ul>
                </div>

                <div class="col-md-4 mb-3">
                    <h5>Customer Service</h5>
                    <ul class="nav flex-column">
                        <li class="nav-item mb-2"><a href="#contactSection" onclick="scrollToElement('contactSection')" class="nav-link p-0">Contact Support</a></li>
                        <li class="nav-item mb-2"><a href="#faqSection" onclick="scrollToElement('faqSection', 'headingTwo')" class="nav-link p-0">Return Policy</a></li>
                        <li class="nav-item mb-2"><a href="#" data-bs-toggle="modal" data-bs-target="#trackOrderModal" class="nav-link p-0">Track Your Order</a></li>
                    </ul>
                </div>

                <div class="col-md-4 mb-3">
                    <h5>Accepted Payments</h5>
                    <p>We accept all major cards and digital wallets:</p>
                    <div class="d-flex gap-3 fs-3">
                        <i class="bi bi-paypal" title="PayPal"></i>
                        <i class="bi bi-google" title="Google Pay"></i>
                        <span style="font-size: 1.5rem; font-weight: bold; color: #fff;" title="UPI">UPI</span>
                        <i class="bi bi-credit-card-fill" title="Credit/Debit Cards"></i>
                    </div>
                </div>
            </div>

            <div class="d-flex flex-column flex-sm-row justify-content-between py-4 my-4 border-top" style="border-color: #ff9900 !important;">
                <p>© 2024 HARSH'S SHOP. All rights reserved.</p>
                <ul class="list-unstyled d-flex">
                    <li class="ms-3"><a class="link-light" href="https://instagram.com/harshsshop" target="_blank" aria-label="Follow us on Instagram"><i class="bi bi-instagram-fill"></i></a></li>
                    <li class="ms-3"><a class="link-light" href="https://facebook.com/harshsshop" target="_blank" aria-label="Follow us on Facebook"><i class="bi bi-facebook-fill"></i></a></li>
                    <li class="ms-3"><a class="link-light" href="https://google.com/search?q=HARSH'S+SHOP" target="_blank" aria-label="Find us on Google"><i class="bi bi-google"></i></a></li>
                    <li class="ms-3"><a class="link-light" href="https://youtube.com/harshsshop" target="_blank" aria-label="Subscribe to us on YouTube"><i class="bi bi-youtube"></i></a></li>
                    <li class="ms-3"><a class="link-light" href="https://github.com/harshsshop" target="_blank" aria-label="View our code on GitHub"><i class="bi bi-github"></i></a></li>
                </ul>
            </div>
        </div>
    </footer>

    <div class="modal fade" id="accountModal" tabindex="-1" aria-labelledby="accountModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="accountModalLabel"><i class="bi bi-person-circle me-2"></i>My Account</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form onsubmit="event.preventDefault(); showAccountMessage();">
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="loginEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-buy w-100">Sign In</button>
                        <p class="text-center mt-3">New customer? <a href="#" data-bs-toggle="modal" data-bs-target="#signUpModal">Create an account</a></p>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="trackOrderModal" tabindex="-1" aria-labelledby="trackOrderModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-secondary text-white">
                    <h5 class="modal-title" id="trackOrderModalLabel"><i class="bi bi-truck me-2"></i>Track Your Order</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form onsubmit="event.preventDefault(); showTrackingResults();">
                        <div class="mb-3">
                            <label for="trackingId" class="form-label">Enter Order ID (e.g., HS123456)</label>
                            <input type="text" class="form-control" id="trackingId" value="HS123456" required>
                            <div class="form-text">Your Order ID was provided in your confirmation email.</div>
                        </div>
                        <button type="submit" class="btn btn-buy w-100">Check Status</button>
                    </form>
                    
                    <div id="trackingResult" class="mt-4 p-3 border rounded-3 d-none">
                        <h6 class="text-success fw-bold">Order HS123456 Status:</h6>
                        <p class="mb-1"><strong>Status:</strong> <span class="badge bg-primary">Out for Delivery!</span></p>
                        <p class="mb-1"><strong>Carrier:</strong> HARSH'S SHOP Logistics</p>
                        <p class="mb-1"><strong>Estimated Delivery:</strong> Tomorrow by 8:00 PM</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="signUpModal" tabindex="-1" aria-labelledby="signUpModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="signUpModalLabel"><i class="bi bi-star-fill me-2"></i>Join VIP Shopper Club!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="lead">Unlock exclusive deals and your <b>15% discount</b> code instantly.</p>
                    <form onsubmit="event.preventDefault(); showRewardsConfirmation();">
                        <div class="mb-3">
                            <label for="signUpName" class="form-label">Name</label>
                            <input type="text" class="form-control" id="signUpName" required>
                        </div>
                        <div class="mb-3">
                            <label for="signUpEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="signUpEmail" required>
                            <div class="form-text">We'll never share your email with anyone else.</div>
                        </div>
                        <button type="submit" class="btn btn-buy w-100">Claim My Discount</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="rewardsConfirmationModal" tabindex="-1" aria-labelledby="rewardsConfirmationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="rewardsConfirmationModalLabel">Welcome to the Club!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="fs-5 fw-bold">Success! Your 15% discount code is: <span class="text-primary">HARHSVIP15</span></p>
                    <p>Check your email for exclusive member offers and early access to sales.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel"><i class="bi bi-cart-fill me-2"></i>Your Shopping Cart</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="cartItemsContainer">
                    <p class="text-center text-muted" id="emptyCartMessage">Your shopping cart is empty. Please add items from our store.</p>
                </div>
                
                <div class="modal-footer d-block">
                    
                    <div class="mb-3 p-3 rounded-3" style="background-color: #f0f0f0;">
                        <h6 class="mb-2 fw-bold text-dark">Shipping Method:</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="orderMethod" id="orderDelivery" value="Standard Shipping" checked>
                            <label class="form-check-label" for="orderDelivery">
                                <i class="bi bi-truck me-1"></i> Standard Shipping (Free over ₹999)
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="orderMethod" id="orderPickup" value="Express Shipping">
                            <label class="form-check-label" for="orderPickup">
                                <i class="bi bi-lightning-charge me-1"></i> Express Shipping (+₹199)
                            </label>
                        </div>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="mb-0">Subtotal:</h5>
                        <h4 class="mb-0 text-success" id="cartTotal">₹0.00</h4>
                    </div>
                    <button type="button" class="btn btn-buy w-100" onclick="proceedToCheckout()">Proceed to Checkout</button>
                </div>

            </div>
        </div>
    </div>
    
    <div class="modal fade" id="contactConfirmationModal" tabindex="-1" aria-labelledby="contactConfirmationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="contactConfirmationModalLabel">Inquiry Submitted!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Thank you for contacting HARSH'S SHOP. Our customer support team will respond to your inquiry within 24 hours.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="paymentSuccessModal" tabindex="-1" aria-labelledby="paymentSuccessModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="paymentSuccessModalLabel"><i class="bi bi-check-circle-fill me-2"></i>Order Placed Successfully!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="fs-5 fw-bold" id="paymentSummaryMessage"></p>
                    <p>Your order is confirmed and will be processed shortly. You will receive a confirmation email with tracking details.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Continue Shopping</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <script>
        // Use an IIFE for encapsulation
        (function() {
            // Mock Product Data - E-commerce products
            const MOCK_PRODUCTS = [
                { id: 1, name: "Premium Wireless Headphones", price: 4499, image: "https://placehold.co/600x400/ff6600/333333?text=Wireless+Headphones", category: "electronics", oldPrice: 7499 },
                { id: 2, name: "Smart Fitness Watch", price: 5999, image: "https://placehold.co/600x400/333333/ff6600?text=Smart+Watch", category: "electronics", oldPrice: 8999 },
                { id: 3, name: "Ultra HD 4K TV (55-inch)", price: 45999, image: "https://placehold.co/600x400/ff6600/333333?text=4K+TV", category: "electronics", oldPrice: 59999 },
                { id: 4, name: "Designer Men's Jacket", price: 3499, image: "https://placehold.co/600x400/333333/ff6600?text=Mens+Jacket", category: "fashion", oldPrice: 4999 },
                { id: 5, name: "Women's Handbag Collection", price: 2499, image: "https://placehold.co/600x400/ff6600/333333?text=Handbag", category: "fashion", oldPrice: 3999 }, 
                { id: 6, name: "Gaming Console", price: 32999, image: "https://placehold.co/600x400/333333/ff6600?text=Gaming+Console", category: "gaming", oldPrice: 39999 },
                { id: 7, name: "Coffee Maker Machine", price: 5499, image: "https://placehold.co/600x400/ff6600/333333?text=Coffee+Maker", category: "home", oldPrice: 6999 },
                { id: 8, name: "Air Purifier", price: 8999, image: "https://placehold.co/600x400/333333/ff6600?text=Air+Purifier", category: "home", oldPrice: 11999 },
                { id: 9, name: "Laptop Backpack", price: 1999, image: "https://placehold.co/600x400/ff6600/333333?text=Laptop+Bag", category: "fashion", oldPrice: 2999 },
                { id: 10, name: "Wireless Earbuds", price: 2999, image: "https://placehold.co/400x400/333333/ff6600?text=Wireless+Earbuds", category: "electronics", oldPrice: 4999 },
                { id: 11, name: "Kitchen Knife Set", price: 3499, image: "https://placehold.co/600x400/ff6600/333333?text=Knife+Set", category: "home", oldPrice: 4999 }, 
                { id: 12, name: "Sports Shoes", price: 2999, image: "https://placehold.co/600x400/333333/ff6600?text=Sports+Shoes", category: "fashion", oldPrice: 4499 }, 
            ];

            let cart = []; // Shopping cart state

            // DOM Elements (fetched once on load)
            const productRow1 = document.getElementById('productRow1');
            const productRow2 = document.getElementById('productRow2');
            const productRow3 = document.getElementById('productRow3');
            const cartCountElement = document.getElementById('cartCount');
            const cartItemsContainer = document.getElementById('cartItemsContainer');
            const cartTotalElement = document.getElementById('cartTotal');
            const emptyCartMessage = document.getElementById('emptyCartMessage');
            const filterStatusElement = document.getElementById('filterStatus');
            const currentFilterTextElement = document.getElementById('currentFilterText');
            
            // ==================== UTILITY FUNCTIONS ====================

            // Function to show account login message
            window.showAccountMessage = () => {
                const email = document.getElementById('loginEmail').value;
                
                if (email) {
                    const accountModalEl = document.getElementById('accountModal');
                    const accountModalInstance = bootstrap.Modal.getInstance(accountModalEl) || new bootstrap.Modal(accountModalEl);
                    accountModalInstance.hide();
                    
                    const contactModalEl = document.getElementById('contactConfirmationModal');
                    const confirmationModal = new bootstrap.Modal(contactModalEl);
                    
                    document.getElementById('contactConfirmationModalLabel').textContent = `Welcome Back!`;
                    document.querySelector('#contactConfirmationModal .modal-body').innerHTML = `
                        <p class="mb-1">Successfully logged in as <b>${email}</b>.</p>
                        <p class="fw-bold text-success">You can now track orders and access exclusive member deals.</p>
                    `;

                    confirmationModal.show();
                    
                    // Clear the login form
                    document.getElementById('loginEmail').value = '';
                    document.getElementById('loginPassword').value = '';
                }
            };
            
            // Re-purposed to show contact/support inquiry confirmation
            window.showContactConfirmation = () => {
                const name = document.getElementById('contactName').value;
                const email = document.getElementById('contactEmail').value;

                if (name && email) {
                    const confirmationModal = new bootstrap.Modal(document.getElementById('contactConfirmationModal'));
                    confirmationModal.show();
                    
                    // Clear the form fields after showing confirmation
                    document.getElementById('contactName').value = '';
                    document.getElementById('contactEmail').value = '';
                    document.getElementById('contactOrderId').value = '';
                    document.getElementById('contactMessage').value = '';
                }
            };

            // Existing tracking results
            window.showTrackingResults = () => {
                const trackingId = document.getElementById('trackingId').value.toUpperCase().trim();
                const resultDiv = document.getElementById('trackingResult');
                
                if (trackingId === 'HS123456') {
                    resultDiv.classList.remove('d-none');
                    resultDiv.innerHTML = `
                        <h6 class="text-success fw-bold">Order ${trackingId} Status:</h6>
                        <p class="mb-1"><strong>Status:</strong> <span class="badge bg-primary">Out for Delivery!</span></p>
                        <p class="mb-1"><strong>Carrier:</strong> HARSH'S SHOP Logistics</p>
                        <p class="mb-1"><strong>Estimated Delivery:</strong> Tomorrow by 8:00 PM</p>
                    `;
                } else {
                    resultDiv.classList.remove('d-none');
                    resultDiv.innerHTML = `
                        <h6 class="text-danger fw-bold">Order ${trackingId} Status:</h6>
                        <p class="mb-1"><strong>Status:</strong> <span class="badge bg-danger">Not Found / Error</span></p>
                        <p class="mb-1">Please double check your order ID and try again, or contact customer support.</p>
                    `;
                }
            };
            
            window.scrollToElement = (elementId, accordionHeaderId = null) => {
                const element = document.getElementById(elementId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                    
                    if (accordionHeaderId) {
                        const headerElement = document.getElementById(accordionHeaderId);
                        if (headerElement) {
                            const button = headerElement.querySelector('button');
                            const collapseTargetId = button.getAttribute('data-bs-target');
                            const collapseElement = document.querySelector(collapseTargetId);
                            
                            if (collapseElement && !collapseElement.classList.contains('show')) {
                                const bsCollapse = new bootstrap.Collapse(collapseElement, { toggle: true });
                            }
                        }
                    }
                }
            };

            // ==================== PRODUCT RENDERING ====================

            const renderProductCard = (product) => {
                const categoryDisplay = product.category.charAt(0).toUpperCase() + product.category.slice(1);
                const discountPercentage = product.oldPrice ? Math.round((1 - product.price/product.oldPrice) * 100) : 0;
                
                return `
                    <div class="col product-item" data-name="${product.name.toLowerCase()}" data-category="${product.category}">
                        <div class="card product-card shadow-sm">
                            ${discountPercentage > 0 ? `<span class="offer-badge">${discountPercentage}% OFF</span>` : ''}
                            <img src="${product.image}" class="card-img-top" alt="${product.name}">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">${product.name}</h5>
                                <p class="card-text text-muted">${categoryDisplay}</p>
                                <div class="mt-auto d-flex justify-content-between align-items-center">
                                    <div>
                                        <span class="product-price">₹${product.price.toLocaleString()}</span>
                                        ${product.oldPrice ? `<div class="product-old-price">₹${product.oldPrice.toLocaleString()}</div>` : ''}
                                    </div>
                                    <button class="btn btn-buy" onclick="addToCart(${product.id})">
                                        <i class="bi bi-cart-plus me-1"></i> Add to Cart
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            };

            const displayProducts = (productsToRender) => {
                productRow1.innerHTML = '';
                productRow2.innerHTML = '';
                productRow3.innerHTML = ''; 

                if (productsToRender.length === 0) {
                    productRow1.innerHTML = '<div class="col-12"><p class="text-center fs-4 text-danger">No products found matching the category or search.</p></div>';
                    productRow2.innerHTML = '';
                    productRow3.innerHTML = '';
                    return;
                }
                
                // Determine which products to display in which row for a balanced look
                const totalProducts = productsToRender.length;
                const itemsPerRow = 4;
                
                const row1End = Math.min(itemsPerRow, totalProducts);
                const row2End = Math.min(itemsPerRow * 2, totalProducts);
                const row3End = totalProducts;

                productsToRender.slice(0, row1End).forEach(p => {
                    productRow1.innerHTML += renderProductCard(p);
                });

                productsToRender.slice(row1End, row2End).forEach(p => {
                    productRow2.innerHTML += renderProductCard(p);
                });
                
                productsToRender.slice(row2End, row3End).forEach(p => {
                    productRow3.innerHTML += renderProductCard(p);
                });
            };
            
            // ==================== FILTERING FUNCTIONS ====================

            window.filterProductsByCategory = (category) => {
                const filteredProducts = MOCK_PRODUCTS.filter(p => p.category === category.toLowerCase());
                
                displayProducts(filteredProducts);
                
                const categoryNames = {
                    'electronics': 'Electronics',
                    'fashion': 'Fashion',
                    'home': 'Home & Kitchen',
                    'gaming': 'Gaming'
                };
                
                currentFilterTextElement.textContent = `Showing products in: ${categoryNames[category] || category.toUpperCase()}`;
                filterStatusElement.classList.remove('d-none');
                
                document.getElementById('productSection').scrollIntoView({ behavior: 'smooth' });
            };

            window.resetFilter = () => {
                displayProducts(MOCK_PRODUCTS);
                filterStatusElement.classList.add('d-none');
                
                // Clear search inputs when resetting filter
                document.getElementById('searchInput').value = '';
                document.getElementById('mobileSearchInput').value = '';
            };
            
            // ==================== SEARCH FUNCTIONALITY ====================

            // Function to perform search from desktop input
            window.searchProducts = () => {
                const query = document.getElementById('searchInput').value.toLowerCase().trim();
                performSearch(query);
            };

            // Function to perform search from mobile input
            window.searchProductsFromMobile = () => {
                const query = document.getElementById('mobileSearchInput').value.toLowerCase().trim();
                performSearch(query);
            };

            const performSearch = (query) => {
                if (query === "") {
                    resetFilter();
                    return;
                }
                
                const filteredProducts = MOCK_PRODUCTS.filter(p => 
                    p.name.toLowerCase().includes(query) || 
                    p.category.toLowerCase().includes(query)
                );
                
                displayProducts(filteredProducts);
                
                currentFilterTextElement.textContent = `Search results for: "${query}"`;
                filterStatusElement.classList.remove('d-none');
                
                document.getElementById('productSection').scrollIntoView({ behavior: 'smooth' });
            };

            // ==================== SHOPPING CART FUNCTIONS ====================

            const updateCartUI = () => {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCountElement.textContent = totalItems;
                
                cartItemsContainer.innerHTML = '';
                let subtotal = 0;

                if (cart.length === 0) {
                    emptyCartMessage.style.display = 'block';
                } else {
                    emptyCartMessage.style.display = 'none';
                    
                    cart.forEach(item => {
                        const itemTotal = item.price * item.quantity;
                        subtotal += itemTotal;

                        const itemHtml = `
                            <div class="cart-item d-flex justify-content-between align-items-center">
                                <div>
                                    <h6 class="mb-1">${item.name}</h6>
                                    <p class="mb-0 text-muted small">Price: ₹${item.price.toLocaleString()}</p>
                                </div>
                                <div class="d-flex align-items-center">
                                    <button class="btn btn-sm btn-outline-secondary" onclick="removeFromCart(${item.id})" title="Decrease Quantity">-</button>
                                    
                                    <span class="mx-2 fw-bold" style="min-width: 20px; text-align: center;">${item.quantity}</span>
                                    
                                    <button class="btn btn-sm btn-outline-secondary" onclick="addToCart(${item.id})" title="Increase Quantity">+</button>
                                    
                                    <span class="fw-bold ms-3 text-nowrap" style="min-width: 80px; text-align: right;">₹${itemTotal.toLocaleString()}</span>
                                </div>
                            </div>
                        `;
                        cartItemsContainer.innerHTML += itemHtml;
                    });
                }

                cartTotalElement.textContent = `₹${subtotal.toLocaleString()}`;
            };

            window.addToCart = (productId) => {
                const productToAdd = MOCK_PRODUCTS.find(p => p.id === productId);
                const existingItem = cart.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else if (productToAdd) {
                    cart.push({ ...productToAdd, quantity: 1 });
                }
                
                updateCartUI();
            };

            window.removeFromCart = (productId) => {
                const existingItemIndex = cart.findIndex(item => item.id === productId);
                
                if (existingItemIndex !== -1) {
                    if (cart[existingItemIndex].quantity > 1) {
                        cart[existingItemIndex].quantity -= 1;
                    } else {
                        cart.splice(existingItemIndex, 1); 
                    }
                }
                
                updateCartUI();
            };
            
            // ==================== ORDER CHECKOUT (MOCK) ====================
            
            window.proceedToCheckout = () => {
                if (typeof bootstrap === 'undefined') return;

                if (cart.length === 0) {
                    const emptyCartModalEl = document.getElementById('contactConfirmationModal');
                    const emptyCartModal = new bootstrap.Modal(emptyCartModalEl);
                    
                    document.getElementById('contactConfirmationModalLabel').innerHTML = `<i class="bi bi-info-circle me-1"></i> Cart Empty`;
                    document.querySelector('#contactConfirmationModal .modal-header').classList.remove('bg-success');
                    document.querySelector('#contactConfirmationModal .modal-header').classList.add('bg-danger');
                    document.querySelector('#contactConfirmationModal .modal-body').innerHTML = '<p>Please add products to your cart before proceeding to checkout.</p>';
                    emptyCartModal.show();
                    
                    setTimeout(() => {
                        document.getElementById('contactConfirmationModalLabel').innerHTML = `Inquiry Submitted!`;
                        document.querySelector('#contactConfirmationModal .modal-header').classList.remove('bg-danger');
                        document.querySelector('#contactConfirmationModal .modal-header').classList.add('bg-success');
                        document.querySelector('#contactConfirmationModal .modal-body').innerHTML = 'Thank you for contacting HARSH\'S SHOP. Our customer support team will respond to your inquiry within 24 hours.';
                    }, 1000); 

                    return; 
                }

                const subtotalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const orderMethod = document.querySelector('input[name="orderMethod"]:checked')?.value || 'Standard Shipping';
                const shippingFee = orderMethod === 'Express Shipping' ? 199 : (subtotalAmount >= 999 ? 0 : 99);
                const totalAmount = subtotalAmount + shippingFee;

                
                const cartModalEl = document.getElementById('cartModal');
                const cartModalInstance = bootstrap.Modal.getInstance(cartModalEl) || new bootstrap.Modal(cartModalEl);
                cartModalInstance.hide(); 

                const summaryMessage = document.getElementById('paymentSummaryMessage');
                summaryMessage.innerHTML = `Total Paid: <span class="text-success">₹${totalAmount.toLocaleString()}</span> (Shipping: ${shippingFee === 0 ? 'Free' : '₹' + shippingFee})`;

                const paymentSuccessModal = new bootstrap.Modal(document.getElementById('paymentSuccessModal'));
                paymentSuccessModal.show();

                cart = [];
                updateCartUI();
            };

            // ==================== FORM HANDLERS ====================
            
            window.showRewardsConfirmation = () => {
                const name = document.getElementById('signUpName').value;
                const email = document.getElementById('signUpEmail').value;

                if (name && email) {
                    const signUpModalEl = document.getElementById('signUpModal');
                    const signUpModalInstance = bootstrap.Modal.getInstance(signUpModalEl) || new bootstrap.Modal(signUpModalEl);
                    signUpModalInstance.hide();

                    const confirmationModal = new bootstrap.Modal(document.getElementById('rewardsConfirmationModal'));
                    confirmationModal.show();
                    
                    document.getElementById('signUpName').value = '';
                    document.getElementById('signUpEmail').value = '';
                } 
            };
            
            // ==================== Countdown Timer Function ====================
            const startCountdown = () => {
                const endTime = new Date();
                endTime.setHours(23, 59, 59, 0); // Today at 11:59:59 PM

                const updateTimer = () => {
                    const now = new Date().getTime();
                    const distance = endTime - now;

                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    const timerElement = document.getElementById("countdownTimer");
                    if (timerElement) {
                        if (distance < 0) {
                            clearInterval(x);
                            timerElement.innerHTML = "<span class='text-danger'>SALE ENDED</span>";
                        } else {
                            timerElement.innerHTML = `
                                ${String(hours).padStart(2, '0')}h:
                                ${String(minutes).padStart(2, '0')}m:
                                ${String(seconds).padStart(2, '0')}s
                            `;
                        }
                    }
                };

                updateTimer(); // Initial call
                const x = setInterval(updateTimer, 1000);
            };

            // Initial product display and cart UI update when the page loads
            window.onload = () => {
                displayProducts(MOCK_PRODUCTS);
                updateCartUI();
                startCountdown(); // Start the countdown timer
            };

        })(); 
    </script>
</body>
</html>